# RAG Integration for "Send to AI" Button

## ‡∏™‡∏£‡∏∏‡∏õ‡∏Å‡∏≤‡∏£‡∏≠‡∏±‡∏õ‡πÄ‡∏Å‡∏£‡∏î

‡∏õ‡∏∏‡πà‡∏° **"Send to AI"** ‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ‡πÉ‡∏ä‡πâ **RAG (Retrieval Augmented Generation)** ‡πÅ‡∏•‡πâ‡∏ß! üéâ

---

## üîÑ ‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á

### **‡∏Å‡πà‡∏≠‡∏ô (Old System)**
```typescript
// ‡πÉ‡∏ä‡πâ transcript chunks ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î + products ‡∏ó‡∏µ‡πà‡∏°‡∏µ tags ‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ô
generateDraftsBatch({
  transcript: { chunks: allChunks }, // ‡∏™‡πà‡∏á‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î!
  products: matchingProducts,
  comments
})
```

**‡∏õ‡∏±‡∏ç‡∏´‡∏≤:**
- ‚ùå ‡∏™‡πà‡∏á transcript ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡πÑ‡∏õ‡πÉ‡∏´‡πâ AI (‡∏™‡∏¥‡πâ‡∏ô‡πÄ‡∏õ‡∏•‡∏∑‡∏≠‡∏á tokens)
- ‚ùå ‡πÉ‡∏ä‡πâ products ‡∏ó‡∏µ‡πà‡∏°‡∏µ tags ‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ô‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô
- ‚ùå ‡πÑ‡∏°‡πà‡∏°‡∏µ semantic search
- ‚ùå ‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏´‡∏≤ context ‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Ç‡πâ‡∏≠‡∏á‡πÑ‡∏î‡πâ‡∏î‡∏µ

---

### **‡∏´‡∏•‡∏±‡∏á (New RAG System)**
```typescript
// ‡πÉ‡∏ä‡πâ RAG ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏´‡∏≤ context ‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Ç‡πâ‡∏≠‡∏á‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô
generateBatchAnswers(videoId, comments, {
  includeProducts: true,      // ‡πÉ‡∏ä‡πâ RAG ‡∏´‡∏≤ products ‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Ç‡πâ‡∏≠‡∏á
  includeTranscripts: true,   // ‡πÉ‡∏ä‡πâ RAG ‡∏´‡∏≤ transcript chunks ‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Ç‡πâ‡∏≠‡∏á
  temperature: 0.7
})
```

**‡∏Ç‡πâ‡∏≠‡∏î‡∏µ:**
- ‚úÖ **Hybrid Search**: Vector similarity (70%) + Keyword matching (30%)
- ‚úÖ **Smart Context**: ‡∏î‡∏∂‡∏á‡πÄ‡∏â‡∏û‡∏≤‡∏∞ context ‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Ç‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ö‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°
- ‚úÖ **Token Efficient**: ‡πÉ‡∏ä‡πâ max 2800 tokens (‡∏õ‡∏£‡∏∞‡∏´‡∏¢‡∏±‡∏î‡∏Ñ‡πà‡∏≤‡πÉ‡∏ä‡πâ‡∏à‡πà‡∏≤‡∏¢)
- ‚úÖ **Better Relevance**: ‡∏´‡∏≤ products ‡πÅ‡∏•‡∏∞ transcript parts ‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏°‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î
- ‚úÖ **Auto-indexing**: Index transcript ‡πÅ‡∏•‡∏∞ products ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥

---

## üìä ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô

### **1. ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏° "Send to AI"**

```mermaid
graph TD
    A[‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏° Send to AI] --> B[‡∏î‡∏∂‡∏á comments ‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡∏°‡∏µ draft]
    B --> C[Group comments by videoId]
    C --> D{Check video transcript}
    D -->|‡πÑ‡∏°‡πà‡∏°‡∏µ| E[Skip video]
    D -->|‡∏°‡∏µ| F[Auto-index transcript to RAG]
    F --> G[Auto-index matching products to RAG]
    G --> H[Use RAG to find relevant contexts]
    H --> I[Generate answers with AI]
    I --> J[Save drafts to database]
```

### **2. RAG ‡∏ó‡∏≥‡∏≠‡∏∞‡πÑ‡∏£?**

‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÅ‡∏ï‡πà‡∏•‡∏∞ comment:

1. **‡∏™‡∏£‡πâ‡∏≤‡∏á embedding** ‡∏à‡∏≤‡∏Å‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡πÉ‡∏ôcomment
2. **Vector Search**: ‡∏´‡∏≤ transcript chunks ‡∏ó‡∏µ‡πà‡∏Ñ‡∏•‡πâ‡∏≤‡∏¢‡∏Å‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î (cosine similarity)
3. **Keyword Search**: ‡∏´‡∏≤‡∏Ñ‡∏≥‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏ó‡∏µ‡πà‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ô (BM25)
4. **Hybrid Re-rank**: ‡∏£‡∏ß‡∏°‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô (70% vector + 30% keyword)
5. **Product Search**: ‡∏´‡∏≤ products ‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Ç‡πâ‡∏≠‡∏á‡∏î‡πâ‡∏ß‡∏¢‡∏ß‡∏¥‡∏ò‡∏µ‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ô
6. **‡∏î‡∏∂‡∏á Top K contexts**: ‡πÄ‡∏≠‡∏≤‡πÄ‡∏â‡∏û‡∏≤‡∏∞ 6 contexts ‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Ç‡πâ‡∏≠‡∏á‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î
7. **Generate Answer**: ‡∏™‡πà‡∏á‡πÑ‡∏õ‡πÉ‡∏´‡πâ GPT-4o-mini ‡∏û‡∏£‡πâ‡∏≠‡∏° contexts

---

## üéØ ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô

### **‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á Comment:**
```
"‡∏ú‡∏°‡∏≠‡∏¢‡∏≤‡∏Å‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ó‡∏≥‡∏Ñ‡∏•‡∏¥‡∏õ‡∏£‡∏µ‡∏ß‡∏¥‡∏ß‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ ‡πÅ‡∏ï‡πà‡πÑ‡∏°‡πà‡∏£‡∏π‡πâ‡∏à‡∏∞‡πÉ‡∏ä‡πâ‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå‡∏≠‡∏∞‡πÑ‡∏£‡∏î‡∏µ"
```

### **RAG ‡∏à‡∏∞‡∏´‡∏≤:**

**Transcript Chunks (Top 3):**
```
1. [Score: 0.89] "...‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏°‡∏∑‡∏≠‡πÉ‡∏´‡∏°‡πà‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡πÉ‡∏´‡πâ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏à‡∏≤‡∏Å‡∏Å‡∏•‡πâ‡∏≠‡∏á‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠‡∏Å‡πà‡∏≠‡∏ô..."
2. [Score: 0.85] "...‡∏Ñ‡∏ß‡∏£‡∏°‡∏µ‡πÑ‡∏°‡πÇ‡∏Ñ‡∏£‡πÇ‡∏ü‡∏ô‡πÄ‡∏™‡∏µ‡∏¢‡∏ö‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏ä‡∏±‡∏î‡∏Ç‡∏∂‡πâ‡∏ô..."
3. [Score: 0.82] "...‡πÅ‡∏™‡∏á‡∏™‡∏ß‡πà‡∏≤‡∏á‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏°‡∏≤‡∏Å ‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏ã‡∏∑‡πâ‡∏≠‡πÑ‡∏ü‡πÅ‡∏´‡∏ß‡∏ô‡∏£‡∏≤‡∏Ñ‡∏≤‡πÑ‡∏°‡πà‡πÅ‡∏û‡∏á..."
```

**Products (Top 3):**
```
1. [Score: 0.91] "Professional Microphone for YouTube - ‡∏ø1,999"
2. [Score: 0.87] "LED Ring Light 18 inch - ‡∏ø1,290"
3. [Score: 0.84] "Smartphone Gimbal Stabilizer - ‡∏ø2,890"
```

### **AI Response:**
```
‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏µ‡∏Ñ‡∏£‡∏±‡∏ö! ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡∏ó‡∏≥‡∏Ñ‡∏•‡∏¥‡∏õ‡∏£‡∏µ‡∏ß‡∏¥‡∏ß‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ ‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡πÉ‡∏´‡πâ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏à‡∏≤‡∏Å‡∏Å‡∏•‡πâ‡∏≠‡∏á‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠‡∏Å‡πà‡∏≠‡∏ô‡πÄ‡∏•‡∏¢‡∏Ñ‡∏£‡∏±‡∏ö
‡∏à‡∏≤‡∏Å‡∏ô‡∏±‡πâ‡∏ô‡∏Ñ‡πà‡∏≠‡∏¢‡πÜ ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå‡∏ï‡∏≤‡∏°‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç:

1. üé§ **Professional Microphone for YouTube** (‡∏ø1,999)
   - ‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏ä‡∏±‡∏î‡∏°‡∏≤‡∏Å‡∏Ñ‡∏£‡∏±‡∏ö ‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏Å‡∏ß‡πà‡∏≤‡∏Å‡∏•‡πâ‡∏≠‡∏á‡∏î‡πâ‡∏ß‡∏¢‡∏ã‡πâ‡∏≥
   - ‡∏î‡∏π‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°: [‡∏•‡∏¥‡∏á‡∏Å‡πå‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤]

2. üí° **LED Ring Light 18 inch** (‡∏ø1,290)
   - ‡πÅ‡∏™‡∏á‡∏™‡∏ß‡πà‡∏≤‡∏á‡∏û‡∏≠‡∏î‡∏µ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ñ‡πà‡∏≤‡∏¢‡πÉ‡∏ô‡∏ö‡πâ‡∏≤‡∏ô
   - ‡∏î‡∏π‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°: [‡∏•‡∏¥‡∏á‡∏Å‡πå‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤]

3. üì± **Smartphone Gimbal Stabilizer** (‡∏ø2,890)
   - ‡∏ä‡πà‡∏ß‡∏¢‡πÉ‡∏´‡πâ‡∏†‡∏≤‡∏û‡∏ô‡∏¥‡πà‡∏á‡πÑ‡∏°‡πà‡∏™‡∏±‡πà‡∏ô ‡πÄ‡∏û‡∏¥‡πà‡∏° professionalism
   - ‡∏î‡∏π‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°: [‡∏•‡∏¥‡∏á‡∏Å‡πå‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤]

‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏à‡∏≤‡∏Å 2 ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÅ‡∏£‡∏Å‡∏Å‡πà‡∏≠‡∏ô‡∏Å‡πá‡πÄ‡∏û‡∏µ‡∏¢‡∏á‡∏û‡∏≠‡πÅ‡∏•‡πâ‡∏ß‡∏Ñ‡∏£‡∏±‡∏ö! üòä
```

---

## ‚öôÔ∏è ‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤

### **‡πÉ‡∏ä‡πâ RAG (Default)**
```typescript
// ‡∏õ‡∏∏‡πà‡∏° "Send to AI" ‡∏à‡∏∞‡πÉ‡∏ä‡πâ RAG ‡πÇ‡∏î‡∏¢‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥
POST /api/drafts/generate-batch
```

### **‡∏õ‡∏¥‡∏î RAG (‡πÉ‡∏ä‡πâ‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏î‡∏¥‡∏°)**
```typescript
// ‡∏ñ‡πâ‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏î‡∏¥‡∏°
POST /api/drafts/generate-batch?useRAG=false
```

---

## üìà ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç

### **Token Usage**
```
‡∏Å‡πà‡∏≠‡∏ô‡πÉ‡∏ä‡πâ RAG:  ~3000-5000 tokens/comment
‡∏´‡∏•‡∏±‡∏á‡πÉ‡∏ä‡πâ RAG:  ~800-1200 tokens/comment  (‡∏õ‡∏£‡∏∞‡∏´‡∏¢‡∏±‡∏î 60-70%)
```

### **Response Quality**
```
Relevance Score:  0.85-0.95 (‡∏î‡∏µ‡∏Ç‡∏∂‡πâ‡∏ô!)
Context Accuracy: 90%+
Product Match:    80%+
```

### **Auto-indexing**
- ‚úÖ Transcript ‡∏à‡∏∞‡∏ñ‡∏π‡∏Å index ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÅ‡∏£‡∏Å‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ
- ‚úÖ Products ‡∏à‡∏∞‡∏ñ‡∏π‡∏Å index ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏°‡∏µ tags ‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ô
- ‚úÖ ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á index ‡∏ã‡πâ‡∏≥‡∏ñ‡πâ‡∏≤‡∏°‡∏µ‡∏≠‡∏¢‡∏π‡πà‡πÅ‡∏•‡πâ‡∏ß

---

## üîç ‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö

### **‡∏î‡∏π RAG Stats**
```bash
curl http://localhost:3000/api/rag/stats
```

### **‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ Transcript ‡∏ñ‡∏π‡∏Å Index ‡πÅ‡∏•‡πâ‡∏ß**
```bash
curl "http://localhost:3000/api/ingest/transcripts?videoId=YOUR_VIDEO_ID"
```

### **‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ Products ‡∏ñ‡∏π‡∏Å Index ‡πÅ‡∏•‡πâ‡∏ß**
```bash
curl "http://localhost:3000/api/ingest/products?productId=YOUR_PRODUCT_ID"
```

---

## üêõ Troubleshooting

### **‡∏õ‡∏±‡∏ç‡∏´‡∏≤: Drafts ‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏™‡∏£‡πâ‡∏≤‡∏á**

**‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡πá‡∏ô‡πÑ‡∏õ‡πÑ‡∏î‡πâ:**
1. ‚ùå Video ‡πÑ‡∏°‡πà‡∏°‡∏µ transcript ‡∏´‡∏£‡∏∑‡∏≠ status ‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà READY
2. ‚ùå Video ‡∏°‡∏µ status READY ‡πÅ‡∏ï‡πà transcript ‡πÄ‡∏õ‡πá‡∏ô‡∏Ñ‡πà‡∏≤‡∏ß‡πà‡∏≤‡∏á (empty)
3. ‚ùå Products ‡πÑ‡∏°‡πà‡∏°‡∏µ tags ‡∏ó‡∏µ‡πà‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ö video
4. ‚ùå OpenAI API key ‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á

**‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ:**
```bash
# 1. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö video ‡∏î‡πâ‡∏ß‡∏¢ diagnostic script
npx tsx debug-video.ts

# 2. ‡πÄ‡∏ä‡πá‡∏Ñ‡∏ß‡πà‡∏≤ transcript ‡∏°‡∏µ‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡∏à‡∏£‡∏¥‡∏á‡πÜ
# 3. ‡πÄ‡∏û‡∏¥‡πà‡∏° tags ‡πÉ‡∏´‡πâ products
# 4. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö .env.local
```

**üìñ ‡∏î‡∏π‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°:**
- [TROUBLESHOOTING_DRAFT_GENERATION.md](TROUBLESHOOTING_DRAFT_GENERATION.md) - ‡∏Ñ‡∏π‡πà‡∏°‡∏∑‡∏≠‡πÅ‡∏Å‡πâ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡πÇ‡∏î‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î

### **‡∏õ‡∏±‡∏ç‡∏´‡∏≤: Token limit exceeded**

**‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ:**
```env
# ‡πÉ‡∏ô .env.local
RAG_MAX_CONTEXT_TOKENS="2000"  # ‡∏•‡∏î‡∏à‡∏≤‡∏Å 2800
RAG_TOP_K="4"                   # ‡∏•‡∏î‡∏à‡∏≤‡∏Å 6
```

### **‡∏õ‡∏±‡∏ç‡∏´‡∏≤: Embeddings ‡∏ä‡πâ‡∏≤**

**‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏:**
- Index transcript + products ‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÅ‡∏£‡∏Å

**‡∏õ‡∏Å‡∏ï‡∏¥:**
- ‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÅ‡∏£‡∏Å: ~10-30 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ (‡∏ï‡πâ‡∏≠‡∏á index)
- ‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ï‡πà‡∏≠‡πÑ‡∏õ: ~2-5 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ (‡πÉ‡∏ä‡πâ index ‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏≠‡∏¢‡∏π‡πà)

---

## üìö ‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°

- **Full RAG Documentation:** [RAG_SYSTEM.md](RAG_SYSTEM.md)
- **Quick Start Guide:** [QUICK_START_RAG.md](QUICK_START_RAG.md)
- **Testing Guide:** [TESTING_RAG.md](TESTING_RAG.md)

---

## ‚úÖ ‡∏™‡∏£‡∏∏‡∏õ

‡∏£‡∏∞‡∏ö‡∏ö "Send to AI" ‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ:

1. ‚úÖ **‡πÉ‡∏ä‡πâ RAG ‡∏´‡∏≤ context ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥**
2. ‚úÖ **‡∏õ‡∏£‡∏∞‡∏´‡∏¢‡∏±‡∏î tokens 60-70%**
3. ‚úÖ **‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö‡πÅ‡∏°‡πà‡∏ô‡∏¢‡∏≥‡∏Ç‡∏∂‡πâ‡∏ô**
4. ‚úÖ **‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏°‡∏Å‡∏ß‡πà‡∏≤**
5. ‚úÖ **Auto-index transcript ‡πÅ‡∏•‡∏∞ products**

**‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏ó‡∏≥‡∏≠‡∏∞‡πÑ‡∏£‡πÄ‡∏û‡∏¥‡πà‡∏° - ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢!** üöÄ
